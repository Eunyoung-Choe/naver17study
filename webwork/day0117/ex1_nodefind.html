<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>502 Study</title>
        <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400..700&family=Gaegu&family=Jua&family=Nanum+Pen+Script&family=Playwrite+AU+SA:wght@100..400&family=Single+Day&display=swap" rel="stylesheet">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
        <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
        <style>
            body *{
                font-family: 'Jua';
            }
        </style>
    </head>

    <body>
        <div class="a">
            <h5> Hello #1 </h5>
            <img src="../mycar/mycar10.png" width="100">
        </div>

        <div class="a">
            <h5> Hello #1 </h5>
            <img src="../mycar/mycar3.png" width="100">
        </div>
        
        <div class="a">
            <h5> Hello #1 </h5>
            <img src="../mycar/mycar7.png" width="100">
        </div>
        <hr>

        <h5 class="title"> 111 </h5>
        <img src="" alt="사진없음" class="mainphoto"
            onerror="this.src='../food/11.jpg'">
    </body>

    <script>
        $("div.a").css({
            "width":"200px",
            "height":"100px",
            "border":"1px solid gray",
            "margin":"20px"
        });

        // selector를 이용한 반복문 each문 
        $("div.a").each(function(){ // index, element(각각의 div.a)
            let r = parseInt(Math.random()*256);
            let g = parseInt(Math.random()*256);
            let b = parseInt(Math.random()*256);
            let color = `rgb(${r},${g},${b})`;

            $(this).css("background-color", color);
        });

        /* < jQuery에서 노드 찾기 > 
            next(): 다음 노드
            prev(): 이전 노드
            find or children: 자식 노드
            parent: 부모 노드
            parents: 모든 부모 노드
            siblings: 형제 노드 
        */

        // div.a에서 mouseover 이벤트를 구현한 경우 
        $("div.a").mouseover(function(idx,ele){
            // 1. 배경색을 얻어서 h5.title의 배경색으로 넣는다.
            let bcolor = $(this).css("background-color");
            $("h5.title").css("background-color", bcolor);

            // 2. 하위 태그 h5의 text를 얻어서 h5.title에 넣는다.
            let msg = $(this).children("h5").text(); // find든 children이든 상관없음.
            $("h5.title").text(msg);

            // 3. 하위 태그 중 img의 src를 얻어서 img.mainphoto에 넣는다.
            let imgSrc = $(this).find("img").attr("src");
            $("img.mainphoto").attr("src", imgSrc); // 클래스가 mainphoto인 img 태그 선택
        });

        // div.a>img에서 mouseover 이벤트 구현한 경우
        // 위와 같은 결과가 나오려면
        $("div.a>img").mouseover(function(){
            // 1. 부모의 배경색을 얻어 h5.title의 배경색으로 넣는다.
            let bcolor = $(this).parent().css("background-color");
            $("h5.title").css("background-color", bcolor);

            // 2. 형제 태그 중 h5의 text를 얻어서 h5.title에 넣는다.
            let msg = $(this).siblings("h5").text();
            $("h5.title").text(msg);

            // 3. 자기자신의 src를 얻어서 img.mainphoto에 넣는다.
            let imgSrc = $(this).attr("src");
            $("img.mainphoto").attr("src", imgSrc);
        })
    </script>
</html>
